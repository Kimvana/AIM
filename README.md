
##### !!!
you are currently on a beta-branch of AIM. There might be a few more errors than on the main branch, we'd really appreciate bug reports if you encounter any!
##### !!!

# AIM

Welcome to the github page of AIM! Here, you can download the newest version, request or submit changes, discuss or ask questions about the code, and more!


## Goal of the program

AIM is capable of extracting the vibrational Hamiltonian from a molecular dynamics (MD) trajectory. The current version allows for calculating the amide I Hamiltonian immediately, but also allows you to add your own methods (without changing the main code) to calculate other types of Hamiltonians. These vibrational Hamiltonians can be used to calculate infrared absorption (IR) spectra and 2-dimensional infrared (2DIR) spectra using the [NISE](https://github.com/GHlacour/NISE_2017) code.

## Quick-start guide

### Where can I find the manual?
The manual can be found in the support_files folder above. It contains all information about the program, much more than this page! Please note that the manual is written with the main branch in mind, so the beta branch version might function slightly differently. Read on below for instructions on how this version differs.

### How do I download the program?
There is two ways to download AIM. You can download it directly using the git clone command in the terminal/command prompt. Alternatively, at the top of this page, there is a big green button with the text 'Code'. Click it, and select the option 'download ZIP'. Move the zip to the correct location and unzip.

### Where can I find the main executable?
The main script that should be called when running this code is called AIM.py and can be found in the folder called AIM above.

### How do I cite this work?
When using the program, please cite [J. Chem. Theory Comput. 2022, 18, 5, 3089â€“3098](https://pubs.acs.org/doi/abs/10.1021/acs.jctc.2c00113). It's the paper about the AIM program itself. Please, also don't forget to cite the papers that provided the maps applied by AIM. These references are generated by AIM during runs. More information on this can be found in the FAQ in the manual.

## Differences with the main branch
The main difference of this branch is the fact that this version is installable. While for the main branch you have to install the three dependencies yourself, this version can do it automatically. Furthermore, with this branch, the installation automatically creates an alias so you can call the program without knowing the file location. 

### So, how do install this version?
When installing the program, you are installing it as a new module into your own python environment. It is good practice to create a separate environment for different projects, as they might use different versions of modules. If you would like to use a separate environment for AIM (as I would highly recommend), please read up on venv's (virtual environments). For those vaguely familiar, these are the commands you need to use (note you can replace ```python3``` with ```python```, depending on how you normally use python):
Using ```python3 -m venv env_AIM``` will create a virtual environment in the current working directory.
Activate the environment by running
* (Unix)  ```source env_GMAP/bin/activate```
* (Windows) ```env_GMAP\Scripts\activate.bat``` (doesn't work in powershell)

Now, there's two options.
1. You can clone this repo to a folder on your computer, and navigate there. Another option is to download the entire repo from the website. PLEASE make sure you have the correct branch, as this installable version is not the main branch. Then, run ```python3 -m pip install .```. Note the period! 
2. You can also skip the manual download, and ask pip to install directly from github. Then, running ```python3 -m pip install git+https://github.com/Kimvana/AIM@Version-1.0-installable``` should automagically do the entire installation.
Regardless of which method you chose, typing AIM in the command line will now start the program!

### How do I use it?
Because of the installation, calling the program changes slightly. While the main branch is called by 'python yourlocation/AIM.py yourlocation/yourinputfile.txt', now, please use ```AIM run yourlocation/yourinputfile.txt```, where you add your actual location. The rest of the usage remains the same.

### I can't find the sourcefiles or extra_maps directory anymore! Now, how do I change values there? How do I add maps?
This is the main downside of the installable version. The files you'd like to edit are stored within your python installation. If you use a venv, you have access to them, if not, it depends on your user rights on your system. I strongly advise you DO NOT CHANGE those files - there is now dedicated functionality in AIM to deal with this:
Running ```AIM setup targetdirectory``` will create a copy of the installed (this is why you shouldn't change those) folders in the chosen targetdirectory. Replace the text targetdirectory with the intended location. Then, change the files in these new copies (or add files) to your liking.
Following the instructions of the manual, add the path to your edited version of the sourcefiles and/or extra_maps directories to your input file before running your calculation.

## Contact information

If you have discovered a bug or other issue with the code, please use the [issues](https://github.com/Kimvana/AIM/issues) section. Please check if the issue is already known. If not, feel free to make a new issue! For more information on how to make the issues most helpful for us, please check the manual. 

If you have a general question/remark/suggestion, please uses the [discussions](https://github.com/Kimvana/AIM/discussions) section. If others had the same question, the answer might already be there. Otherwise, feel free to ask!


## Links

In order to use AIM, you need to have a MD trajectory. These can be generated using MD packages. AIM is currently tested for the following MD packages (you only need one, not all):
* [GROMACS](https://www.gromacs.org/)
* [CHARMM](https://www.charmm.org/)
* [NAMD](https://www.ks.uiuc.edu/Research/namd/)
* [Amber](https://ambermd.org/)

Similarly, you need some spectral software to convert the hamiltonian trajectory to a spectrum. The format currently generated by AIM is supported by the [NISE](https://github.com/GHlacour/NISE_2017) package.

AIM requires you to have a python installation. You can get it [here](https://www.python.org/). Please make sure you get a version starting with 3.
Next to the python installation, AIM also makes use of the following modules, which have to be installed separately. Instructions for this can be found on their webpages, and are very familiar to python users: all allow using pip or conda.
* [numpy](https://numpy.org/)
* [numba](https://numba.pydata.org/)
* [MDAnalysis](https://www.mdanalysis.org/)

We'd like to encourage the growth of an engaged community. This list will feature examples of ways to extend the capabilities of AIM. Please note that the linked projects are not an official part of AIM, and we take no responsibility in maintaining, updating, or managing them.
* [This](https://github.com/lacourjansenlab/Parallel_AIM_script) is a simple way of running AIM in parallel. We hope to add parallel capabilities to AIM soon, but this should help in the meantime. 


